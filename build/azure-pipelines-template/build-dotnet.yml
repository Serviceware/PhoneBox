parameters:
- name: project
  type: string
- name: runtimeIdentifier
  type: string
  values:
  - linux-x64
  - win-x64
  - osx-x64
- name: configuration
  type: string
  values:
  - Debug
  - Release
 
steps:
- task: DotNetCoreCLI@2
  displayName: 🏭 Build ${{ parameters.project }} (${{ parameters.configuration }})
  inputs:
    command: build
    projects: src/${{ parameters.project }}
    arguments: >
      --configuration ${{ parameters.configuration }}
      --no-restore
      --runtime ${{ parameters.runtimeIdentifier }}
      --self-contained
      -p:PublishSingleFile=True
      -bl:$(Build.ArtifactStagingDirectory)/build/logs/${{ parameters.configuration }}/${{ parameters.project }}.binlog